{% extends "base/layout.html" %}

{% block body %}
<h1>Search Results</h1>
    <form method="GET">
        <label for="q">Search Query:</label>
        <input type="text" id="q" name="q" value="{{ request.GET.q }}">

        <label for="category">Category:</label>
        <select id="category" name="category">
            <option value="">All</option>
            {% for category in all_categories %}
                <option value="{{ category.slug }}">{{ category.name }}</option>
            {% endfor %}
        </select>

        <button type="submit">Search</button>
    </form>

    <ul>
        {% for result in results %}
            <li><a href="{% url 'blog_detail' blog_id=result.meta.id %}">{{ result.title }}</a></li>
        {% empty %}
            <li>No results found.</li>
        {% endfor %}
    </ul>
{% endblock %}a
